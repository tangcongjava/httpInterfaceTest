#coding=utf-8
'''合同提交测试用例集'''

from test.OCTcfg import URL_PATENT_BASE,ERROR_PATENT_NOT_LOGIN,consultant
from OCT.interface.http import MyHttp
import json,nose
from OCT.ToolsHub.decorators import getData
from test.testcase.utils import setup_login, teardown_logout
import test.testcase.customerInfo.testCustomerInfo
from nose.tools import with_setup
from test.testcase.customerInfo.testCustomerInfo import getCustomerList
import urllib

__author__="waynel.zhang"

#撤案申请接口链接地址
url_revoke_apply = URL_PATENT_BASE+"/Contract/submit/"

myhttp = MyHttp()

def submit(customerName,itemTypeAndPropertiesList,myhttp=MyHttp(),publicExpenseTitleCate=1):
    ''' 提交合同
    '''
    #先获取客户
    resp = getCustomerList(1,15,customerName,consultant.get("customerName"))
    customerInfo = json.loads(resp)["body"]["data"]["rows"][0]
    customerId = customerInfo.get("id")
    
    #获取委托人
    resp = getBailorList(customerId)
    requestData={}
    if ajid:
        requestData["id"] = ajid
    if nextHandlerId:
        requestData["nextHandlerId"] = nextHandlerId
    if feeCate:
        requestData["feeCate"] = feeCate
    if fee:
        requestData["fee"] = fee
    if suppleAttachment:
        requestData["suppleAttachment"] = suppleAttachment
    return myhttp.post(url_revoke_apply, requestData)

if __name__ == "__main__":
    data="%7B%22id%22%3A%225%22%2C%22customerId%22%3A%221957592%22%2C%22customerName%22%3A%22%E5%8D%8E%E6%B6%A6%E6%B9%96%E5%8D%97%E5%8C%BB%E8%8D%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22%2C%22bailorId%22%3A%22123408%22%2C%22bailorWholeAddress%22%3A%22%E5%B9%BF%E4%B8%9C%E7%9C%81%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%8D%97%E5%B1%B1%E5%8C%BA%E6%B3%A1%E6%A1%90%E6%A0%9113%E5%8F%B7%22%2C%22contactId%22%3A%222075521%22%2C%22money%22%3A%229830.00%22%2C%22agencyFee%22%3A%223000.00%22%2C%22additionalCharge%22%3A%220.00%22%2C%22publicExpense%22%3A%226830.00%22%2C%22publicExpenseTitleCate%22%3A%221%22%2C%22publicExpenseTitle%22%3A%22%E8%B6%85%E5%87%A1%E5%BF%97%E6%88%90%22%2C%22remark%22%3A%22%E8%BF%99%E4%B8%AA%E6%98%AF%E5%90%88%E5%90%8C%E5%A4%87%E6%B3%A8%22%2C%22nextHandler%22%3A%221725%22%2C%22businessType%22%3A0%2C%22tplType%22%3A0%2C%22items%22%3A%5B%7B%22id%22%3A%2224%22%2C%22detailExtId%22%3A0%2C%22commitmentId%22%3A%223%22%2C%22businessId%22%3A1%2C%22isCompleteInfo%22%3A1%2C%22money%22%3A%229830.00%22%2C%22agencyFee%22%3A%223000.00%22%2C%22publicExpense%22%3A%226830.00%22%2C%22additionalCharge%22%3A%220.00%22%2C%22remark%22%3A%22%E8%BF%99%E4%B8%AA%E6%98%AF%E4%BA%8B%E9%A1%B9%E5%A4%87%E6%B3%A8%22%2C%22clarificaitonbook%22%3A%7B%22id%22%3A%2224%22%2C%22name%22%3A%22%E5%85%83%E9%BA%A6%E9%A5%AE%E6%96%99%E7%9A%84%E4%BA%A4%E5%BA%95%E4%B9%A6%22%2C%22hasProject%22%3A1%2C%22hasClarificaitonbook%22%3A1%2C%22hasPicture%22%3A1%2C%22remark%22%3A%22%E8%BF%99%E4%B8%AA%E6%98%AF%E5%A4%87%E6%B3%A8%22%2C%22bookFile%22%3A%22%5B%7B%5C%22file_name%5C%22%3A%5C%22%E5%85%83%E9%BA%A6%E9%A5%AE%E6%96%99%E7%9A%84%E4%BA%A4%E5%BA%95%E4%B9%A6.docx%5C%22%2C%5C%22file_desc_zh_cn%5C%22%3A%5C%22%E6%8A%80%E6%9C%AF%E4%BA%A4%E5%BA%95%E4%B9%A6%5C%22%2C%5C%22file_no%5C%22%3A%5C%22A00118775%5C%22%2C%5C%22file_id%5C%22%3A%5C%22d8906667-6eac-4a71-8d33-fdaab2745c89%5C%22%2C%5C%22file_size%5C%22%3A%5C%2216742%5C%22%2C%5C%22file_path%5C%22%3A%5C%22%2FData%2Fsc%2FA00118775%2F%2525E5%252585%252583%2525E9%2525BA%2525A6%2525E9%2525A5%2525AE%2525E6%252596%252599%2525E7%25259A%252584%2525E4%2525BA%2525A4%2525E5%2525BA%252595%2525E4%2525B9%2525A6.docx%3Fran%3D14696972950484%5C%22%7D%5D%22%2C%22otherFile%22%3A%22%5B%7B%5C%22file_name%5C%22%3A%5C%22%E4%BA%A4%E5%BA%95%E5%9B%BE%E7%89%87.jpg%5C%22%2C%5C%22file_desc_zh_cn%5C%22%3A%5C%22%E5%85%B6%E4%BB%96%5C%22%2C%5C%22file_no%5C%22%3A%5C%22A00118776%5C%22%2C%5C%22file_id%5C%22%3A%5C%226052ccef-dcfe-49bc-9c57-d162093f1337%5C%22%2C%5C%22file_size%5C%22%3A%5C%22188721%5C%22%2C%5C%22file_path%5C%22%3A%5C%22%2FData%2Fsc%2FA00118776%2F%2525E4%2525BA%2525A4%2525E5%2525BA%252595%2525E5%25259B%2525BE%2525E7%252589%252587.jpg%3Fran%3D14696972950490%5C%22%7D%5D%22%7D%2C%22timeLimit%22%3A%2215%22%2C%22cutFee%22%3A%222%22%2C%22rightItemNum%22%3A%2230%22%2C%22specificationPageNum%22%3A%22102%22%2C%22isRisk%22%3A%221%22%2C%22isPriority%22%3A%221%22%2C%22priority%22%3A%5B%7B%22applyNo%22%3A%22002145305%22%2C%22applyDate%22%3A%222016-07-28%22%2C%22proposerName%22%3A%22%E6%9D%8E%E7%BA%A2%E7%99%BD%22%2C%22countryId%22%3A%2213%22%7D%5D%2C%22proposer%22%3A%5B%7B%22id%22%3A0%2C%22proposerId%22%3A%22111309%22%2C%22proposerCountryId%22%3A%221%22%2C%22proposerProvinceId%22%3A%22103%22%2C%22proposerCityId%22%3A%22173%22%2C%22proposerAreaId%22%3A%220%22%2C%22proposerCardNo%22%3A%22444%22%2C%22proposerEnName%22%3A%22%22%2C%22proposerZipcode%22%3A%22620000%22%2C%22proposerAddress%22%3A%22%E6%94%BE%E7%94%B5%E4%BA%86134%E5%8F%B7%22%2C%22proposerEnAddress%22%3A%22333%22%2C%22officialSeal%22%3A%22%5B%7B%5C%22file_name%5C%22%3A%5C%22%5C%5Cu516c%5C%5Cu7ae0%5C%5Cu7b7e%5C%5Cu540d.jpg%5C%22%2C%5C%22file_desc_zh_cn%5C%22%3A%5C%22%5C%5Cu516c%5C%5Cu7ae0%5C%22%2C%5C%22file_no%5C%22%3A%5C%22A00118782%5C%22%2C%5C%22file_id%5C%22%3A%5C%22b511e43d-3ebc-4b3a-b2b6-666325f48f73%5C%22%2C%5C%22file_size%5C%22%3A%5C%22188721%5C%22%2C%5C%22file_type%5C%22%3A%5C%22jpg%5C%22%2C%5C%22file_path%5C%22%3A%5C%22%5C%22%7D%5D%22%2C%22license%22%3A%22%5B%7B%5C%22file_name%5C%22%3A%5C%22%5C%5Cu5de5%5C%5Cu5546%5C%5Cu6267%5C%5Cu7167.pdf%5C%22%2C%5C%22file_desc_zh_cn%5C%22%3A%5C%22%5C%5Cu8425%5C%5Cu4e1a%5C%5Cu6267%5C%5Cu7167%5C%22%2C%5C%22file_no%5C%22%3A%5C%22A00118780%5C%22%2C%5C%22file_id%5C%22%3A%5C%2200a14e9b-f3fb-4b0b-9a20-f1cc6aec40cf%5C%22%2C%5C%22file_size%5C%22%3A%5C%22219291%5C%22%2C%5C%22file_type%5C%22%3A%5C%22pdf%5C%22%2C%5C%22file_path%5C%22%3A%5C%22%5C%22%7D%5D%22%2C%22licenseTranslate%22%3A%22%5B%7B%5C%22file_name%5C%22%3A%5C%22%5C%5Cu6267%5C%5Cu7167%5C%5Cu6216%5C%5Cu7ffb%5C%5Cu8bd1.zip%5C%22%2C%5C%22file_desc_zh_cn%5C%22%3A%5C%22%5C%5Cu5176%5C%5Cu4ed6%5C%22%2C%5C%22file_no%5C%22%3A%5C%22A00118781%5C%22%2C%5C%22file_id%5C%22%3A%5C%22e3ee9d22-73ee-4836-8670-48f4e473cd6d%5C%22%2C%5C%22file_size%5C%22%3A%5C%22113110%5C%22%2C%5C%22file_type%5C%22%3A%5C%22zip%5C%22%2C%5C%22file_path%5C%22%3A%5C%22%5C%22%7D%5D%22%2C%22idCard%22%3A%22%5B%7B%5C%22file_name%5C%22%3A%5C%22sfz_fanmian.jpg%5C%22%2C%5C%22file_desc_zh_cn%5C%22%3A%5C%22%5C%5Cu8eab%5C%5Cu4efd%5C%5Cu8bc1%5C%22%2C%5C%22file_no%5C%22%3A%5C%22A00118778%5C%22%2C%5C%22file_id%5C%22%3A%5C%228b71bb48-00ad-4c20-a95d-d1c60ee1ffa0%5C%22%2C%5C%22file_size%5C%22%3A%5C%2216312%5C%22%2C%5C%22file_type%5C%22%3A%5C%22jpg%5C%22%2C%5C%22file_path%5C%22%3A%5C%22%5C%22%7D%2C%7B%5C%22file_name%5C%22%3A%5C%22sfz_zhengmian.jpg%5C%22%2C%5C%22file_desc_zh_cn%5C%22%3A%5C%22%5C%5Cu8eab%5C%5Cu4efd%5C%5Cu8bc1%5C%22%2C%5C%22file_no%5C%22%3A%5C%22A00118779%5C%22%2C%5C%22file_id%5C%22%3A%5C%22ad16154b-303b-4af2-9cb8-cce168880e93%5C%22%2C%5C%22file_size%5C%22%3A%5C%2214428%5C%22%2C%5C%22file_type%5C%22%3A%5C%22jpg%5C%22%2C%5C%22file_path%5C%22%3A%5C%22%5C%22%7D%5D%22%2C%22sort%22%3A1%7D%2C%7B%22id%22%3A0%2C%22proposerId%22%3A%22123408%22%2C%22proposerCountryId%22%3A%221%22%2C%22proposerProvinceId%22%3A%22105%22%2C%22proposerCityId%22%3A%22231%22%2C%22proposerAreaId%22%3A%22942%22%2C%22proposerCardNo%22%3A%225133333333333%22%2C%22proposerEnName%22%3A%22%22%2C%22proposerZipcode%22%3A%22518000%22%2C%22proposerAddress%22%3A%22%E6%B3%A1%E6%A1%90%E6%A0%9113%E5%8F%B7%22%2C%22proposerEnAddress%22%3A%22%22%2C%22officialSeal%22%3A%22%5B%5D%22%2C%22license%22%3A%22%5B%5D%22%2C%22licenseTranslate%22%3A%22%5B%5D%22%2C%22idCard%22%3A%22%5B%5D%22%2C%22sort%22%3A2%7D%5D%2C%22inventor%22%3A%5B%7B%22id%22%3A%2230%22%2C%22customerId%22%3A%221957592%22%2C%22inventorId%22%3A%22283%22%2C%22sort%22%3A%221%22%2C%22firstInventor%22%3A%221%22%2C%22name%22%3A%22abc%22%2C%22certificateID%22%3A%223%22%2C%22certificateName%22%3A%22%E6%8A%A4%E7%85%A7%22%2C%22certificateNo%22%3A%22512%22%2C%22publishName%22%3A%221%22%2C%22countryId%22%3A%221%22%2C%22country_name%22%3A%22%E4%B8%AD%E5%9B%BD%22%2C%22cardIds%22%3A%5B%5D%7D%2C%7B%22id%22%3A%2231%22%2C%22customerId%22%3A%221957592%22%2C%22inventorId%22%3A%22218%22%2C%22sort%22%3A%222%22%2C%22firstInventor%22%3A%220%22%2C%22name%22%3A%22%E5%8F%A4%E7%94%B0%E8%BF%98%22%2C%22certificateID%22%3A%221%22%2C%22certificateName%22%3A%22%E8%BA%AB%E4%BB%BD%E8%AF%81%22%2C%22certificateNo%22%3A%22456564646111111113%22%2C%22publishName%22%3A%221%22%2C%22countryId%22%3A%221%22%2C%22country_name%22%3A%22%E4%B8%AD%E5%9B%BD%22%2C%22cardIds%22%3A%5B%7B%22filename%22%3A%22sfz_zhengmian.jpg%22%2C%22filesize%22%3A14428%2C%22filetype%22%3A%22jpg%22%2C%22filepath%22%3A%22http%3A%2F%2Fdemo.chofn.com%3A88%2Fuploads%2Fdocuments%2F2016%2F07%2F22%2F42adc7781c31b9ee.jpg%22%2C%22id%22%3A3098%7D%2C%7B%22filename%22%3A%22sfz_fanmian.jpg%22%2C%22filesize%22%3A16312%2C%22filetype%22%3A%22jpg%22%2C%22filepath%22%3A%22http%3A%2F%2Fdemo.chofn.com%3A88%2Fuploads%2Fdocuments%2F2016%2F07%2F22%2F8022eff99a7ed475.jpg%22%2C%22id%22%3A3099%7D%5D%7D%2C%7B%22id%22%3A%2232%22%2C%22customerId%22%3A%221957592%22%2C%22inventorId%22%3A%22288%22%2C%22sort%22%3A%223%22%2C%22firstInventor%22%3A%220%22%2C%22name%22%3A%22cbd%22%2C%22certificateID%22%3A%222%22%2C%22certificateName%22%3A%22%E5%86%9B%E5%AE%98%E8%AF%81%22%2C%22certificateNo%22%3A%22524%22%2C%22publishName%22%3A%221%22%2C%22countryId%22%3A%221%22%2C%22country_name%22%3A%22%E4%B8%AD%E5%9B%BD%22%2C%22cardIds%22%3A%5B%7B%22filename%22%3A%22sfz_fanmian.jpg%22%2C%22filesize%22%3A16312%2C%22filetype%22%3A%22jpg%22%2C%22filepath%22%3A%22http%3A%2F%2Fdemo.chofn.com%3A88%2Fuploads%2Fdocuments%2F2016%2F07%2F27%2F0d49314a369bc580.jpg%22%2C%22id%22%3A3160%7D%2C%7B%22filename%22%3A%22sfz_zhengmian.jpg%22%2C%22filesize%22%3A14428%2C%22filetype%22%3A%22jpg%22%2C%22filepath%22%3A%22http%3A%2F%2Fdemo.chofn.com%3A88%2Fuploads%2Fdocuments%2F2016%2F07%2F27%2F5b3e1ca919d4e202.jpg%22%2C%22id%22%3A3161%7D%5D%7D%2C%7B%22id%22%3A%2233%22%2C%22customerId%22%3A%221957592%22%2C%22inventorId%22%3A%22219%22%2C%22sort%22%3A%224%22%2C%22firstInventor%22%3A%220%22%2C%22name%22%3A%22%E7%90%86%E8%B4%A2%E9%9B%B6%22%2C%22certificateID%22%3A%2210%22%2C%22certificateName%22%3A%22%E5%85%B6%E4%BB%96%22%2C%22certificateNo%22%3A%22898979789879798797%22%2C%22publishName%22%3A%221%22%2C%22countryId%22%3A%221%22%2C%22country_name%22%3A%22%E4%B8%AD%E5%9B%BD%22%2C%22cardIds%22%3A%5B%5D%7D%2C%7B%22id%22%3A%220%22%2C%22customerId%22%3A%221957592%22%2C%22inventorId%22%3A%2241%22%2C%22sort%22%3A%225%22%2C%22firstInventor%22%3A%220%22%2C%22name%22%3A%22%E6%B5%8B%E8%AF%95%E7%AC%AC%E4%BA%8C%E5%8F%91%E6%98%8E%E4%BA%BA%22%2C%22certificateID%22%3A%222%22%2C%22certificateName%22%3A%22%E5%86%9B%E5%AE%98%E8%AF%81%22%2C%22certificateNo%22%3A%2222222222%22%2C%22publishName%22%3A%221%22%2C%22countryId%22%3A%221%22%2C%22country_name%22%3A%22%E4%B8%AD%E5%9B%BD%22%2C%22cardIds%22%3A%5B%5D%7D%5D%2C%22operatorId%22%3A%222108079%22%2C%22technologyContact%22%3A%7B%22id%22%3A0%2C%22technologyContactId%22%3A%222075521%22%2C%22name%22%3A%22%E6%9D%A8%E6%AC%A3%22%2C%22mobile%22%3A%2213866669999%22%2C%22email%22%3A%22158001406%40qq.com%22%7D%2C%22fee%22%3A%7B%22isRebate%22%3A1%2C%22partner%22%3A%22%E6%9D%8E%E9%B8%BF%E8%B7%AF%22%2C%22partnerMoney%22%3A%22200.00%22%2C%22isStages%22%3A0%2C%22firstPayed%22%3A%22%22%2C%22stagesWay%22%3A%22%22%7D%2C%22hasDivideConsultant%22%3A1%2C%22divideConsultant%22%3A%5B%7B%22id%22%3A0%2C%22consultantId%22%3A%221725%22%2C%22rate%22%3A%2265%22%7D%2C%7B%22id%22%3A0%2C%22consultantId%22%3A%2240%22%2C%22rate%22%3A%2235%22%7D%5D%2C%22feeList%22%3A%5B%7B%22id%22%3A%22103%22%2C%22detailId%22%3A%2224%22%2C%22cate%22%3A%221%22%2C%22paymentNameId%22%3A%2220%22%2C%22paymentName%22%3A%22%E5%9B%BD%E5%86%85%E5%AE%9E%E7%94%A8%E6%96%B0%E5%9E%8B%E7%94%B3%E8%AF%B7%E4%BB%A3%E7%90%86%E8%B4%B9%22%2C%22money%22%3A%223000.00%22%2C%22isRebate%22%3A%22%22%2C%22businessId%22%3A%22%22%7D%2C%7B%22id%22%3A%22104%22%2C%22detailId%22%3A%2224%22%2C%22cate%22%3A%222%22%2C%22paymentNameId%22%3A%2219%22%2C%22paymentName%22%3A%22%E4%BC%98%E5%85%88%E6%9D%83%E8%A6%81%E6%B1%82%E8%B4%B9%22%2C%22money%22%3A%2280.00%22%2C%22isRebate%22%3A%22%22%2C%22businessId%22%3A%22%22%7D%2C%7B%22id%22%3A%22105%22%2C%22detailId%22%3A%2224%22%2C%22cate%22%3A%222%22%2C%22paymentNameId%22%3A%2218%22%2C%22paymentName%22%3A%22%E6%9D%83%E5%88%A9%E8%A6%81%E6%B1%82%E9%99%84%E5%8A%A0%E8%B4%B9%22%2C%22money%22%3A%223000.00%22%2C%22isRebate%22%3A%22%22%2C%22businessId%22%3A%22%22%7D%2C%7B%22id%22%3A%22106%22%2C%22detailId%22%3A%2224%22%2C%22cate%22%3A%222%22%2C%22paymentNameId%22%3A%2215%22%2C%22paymentName%22%3A%22%E7%94%B3%E8%AF%B7%E8%B4%B9%22%2C%22money%22%3A%22150.00%22%2C%22isRebate%22%3A%22%22%2C%22businessId%22%3A%22%22%7D%2C%7B%22id%22%3A%22107%22%2C%22detailId%22%3A%2224%22%2C%22cate%22%3A%222%22%2C%22paymentNameId%22%3A%2216%22%2C%22paymentName%22%3A%22%E8%AF%B4%E6%98%8E%E4%B9%A6%E9%99%84%E5%8A%A0%E8%B4%B9%22%2C%22money%22%3A%223600.00%22%2C%22isRebate%22%3A%22%22%2C%22businessId%22%3A%22%22%7D%5D%7D%5D%2C%22errorList%22%3A%7B%22hasError%22%3Afalse%2C%22msg%22%3A%5B%22%22%5D%7D%2C%22contactMobile%22%3A%2213866669999%22%2C%22contactEmail%22%3A%22158001406%40qq.com%22%2C%22contactTel%22%3A%22028-55555555%22%7D"
    print urllib.unquote(data)